<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS2 BERSERK STATS</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div class="app-container">
        <!-- Mobile Menu Button -->
        <button class="mobile-toggle" id="sidebarToggle">
            <i class="fa-solid fa-bars"></i>
        </button>

        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="logo-area">
                <i class="fa-solid fa-gamepad logo-icon"></i>
                <div class="logo-text-wrapper">
                    <span class="logo-text glitch" data-text="STATGAMES">STAT<span class="highlight">GAMES</span></span>
                </div>
            </div>

            <ul class="nav-links">
                <!-- Dashboard is now the main view -->
                <li class="nav-item active" data-tab="dashboard">
                    <i class="fa-solid fa-table-list"></i>
                    <span>Матч-центр</span>
                </li>
                <!-- Live is separate or part of dashboard? Let's keep separate for focused view if needed -->
                <li class="nav-item" data-tab="live">
                    <i class="fa-solid fa-tower-broadcast"></i>
                    <span class="nav-text">Трансляция LIVE</span>
                </li>
                <li class="nav-item" data-tab="analytics">
                    <i class="fa-solid fa-chart-pie"></i>
                    <span>Аналитика</span>
                </li>
            </ul>

            <!-- League Selector removed as per user request (17-01-2026) -->
            <!-- <div class="league-selector">
                <label>Лига</label>
                <div class="custom-select" id="sidebar-league-select">
                    <span id="sidebar-league-current">Все</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </div>
                <div class="filter-dropdown-menu" id="sidebar-league-dropdown"
                    style="width: 100%; top: auto; left: auto; position: relative; margin-top: 5px; display: none;">
                </div>
            </div> -->

            <div class="status-indicator">
                <span class="status-dot"></span>
                <span id="connection-status">Online</span>
            </div>
        </nav>

        <!-- Main Content Area -->
        <nav class="overlay" id="overlay"></nav>

        <main class="main-content">
            <!-- Top Header / Filter Bar -->
            <header class="top-bar">
                <!-- Search removed as per user request (17-01-2026) -->
                <!-- <div class="search-container">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="team-search" placeholder="Поиск команды...">
                </div> -->

                <div class="clock-display" id="app-clock">--:--</div>
            </header>

            <!-- Data View: Dashboard (Combined Table) -->
            <div id="view-dashboard" class="view-section active">
                <div class="section-header">
                    <h2>Матч-центр</h2>
                    <div class="table-actions">
                        <button class="icon-btn" title="Фильтр"><i class="fa-solid fa-filter"></i></button>
                    </div>
                </div>

                <div class="table-wrapper">
                    <table class="modern-table">
                        <thead>
                            <!-- Row 1: Column Titles -->
                            <tr>
                                <th width="12%">Дата</th>
                                <th width="15%">Лига</th>
                                <th width="20%" style="text-align: right;">Команда 1</th>
                                <th width="20%" style="text-align: left;">Команда 2</th>
                                <th width="10%" style="text-align: center;">Счет</th>
                                <th width="10%" style="text-align: center;">П1</th>
                                <th width="10%">П2</th>
                                <th width="8%" class="map-col">Карта 1</th>
                                <th width="8%" class="map-col">Карта 2</th>
                                <th width="8%" class="map-col">Карта 3</th>
                            </tr>
                            <!-- Row 2: Filter Controls -->
                            <tr class="filter-row">
                                <td>
                                    <button class="filter-trigger full-width" data-col="time">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td>
                                    <button class="filter-trigger full-width" data-col="league">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td style="text-align: right;">
                                    <button class="filter-trigger" data-col="team1">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td>
                                    <button class="filter-trigger" data-col="team2">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td>
                                    <button class="filter-trigger full-width" data-col="score">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td>
                                    <button class="filter-trigger full-width" data-col="odds.p1">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td>
                                    <button class="filter-trigger full-width" data-col="odds.p2">Все <i
                                            class="fa-solid fa-chevron-down"></i></button>
                                </td>
                                <td>
                                    <!-- Map 1 Filter (disabled for now or enabled if needed) -->
                                </td>
                                <td><!-- Map 2 --></td>
                                <td><!-- Map 3 --></td>
                            </tr>
                        </thead>
                        <tbody id="dashboard-table-body">
                            <!-- JS will populate rows here (Live + History) -->
                        </tbody>
                    </table>

                    <div style="text-align: center; margin: 20px 0;">
                        <button id="load-more-btn" class="neon-btn" style="display: none;">
                            <i class="fa-solid fa-rotate-right"></i> Показать еще
                        </button>
                    </div>
                </div>
            </div>

            <!-- Data View: Live Grid (Optional Focused View) -->
            <div id="view-live" class="view-section">
                <div class="section-header">
                    <h2>Трансляция LIVE</h2>
                </div>
                <div class="channel-select-wrapper">
                    <select id="twitch-channel-select" class="modern-select">
                        <!-- Options will be populated by JS or hardcoded -->
                        <option value="berserk_cs2_league">1x1 CS 2 Berserk League</option>
                        <option value="berserk_dota2_league">1x1 DOTA 2 Berserk League</option>
                        <option value="ecs_tv">ML BB Epic Clash Series</option>
                    </select>
                </div>
                <div class="live-grid-container" id="live-container">
                    <!-- Helper text or initial state if needed, JS handles the player injection -->
                    <div id="twitch-player-wrapper" class="video-container">
                        <!-- iframe will be here -->
                    </div>
                </div>
            </div>

            <!-- Data View: Analytics (Stub) -->
            <div id="view-analytics" class="view-section">
                <div class="empty-state">
                    <i class="fa-solid fa-chart-line"></i>
                    <p>Аналитика в разработке</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Subscription Modal -->
    <div id="subscription-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal"><i class="fa-solid fa-xmark"></i></button>
            <div class="modal-body">
                <div class="modal-icon">
                    <i class="fa-solid fa-crown"></i>
                </div>
                <h2>Доступно по подписке</h2>
                <p>Раздел "Аналитика" доступен только для PREMIUM пользователей.<br>Оформите подписку, чтобы получить
                    доступ к детальной статистике и прогнозам.</p>
                <button class="subscribe-btn">Оформить подписку</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>

</html>